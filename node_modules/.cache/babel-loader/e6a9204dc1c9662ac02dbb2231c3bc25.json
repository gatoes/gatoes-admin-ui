{"ast":null,"code":"import _objectSpread from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { lazy } from 'react';\nimport moment from 'moment';\nimport { ROUTES } from './routes';\nimport has from 'lodash';\nexport var APP_VERSION = '1.0';\nexport function load(component) {\n  return lazy(function () {\n    return import(\"./components/\".concat(component));\n  });\n}\nexport function fromNow(dateTime) {\n  return moment.utc(dateTime).fromNow();\n}\nexport function utcToLocal(dateTime) {\n  var format = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'DD-MM-YYYY';\n  return moment.utc(dateTime).local().format(format);\n}\nexport function clearSession() {\n  localStorage.removeItem('jwtToken');\n  localStorage.removeItem('currencyCode');\n  localStorage.removeItem('currencySymbol');\n  localStorage.removeItem('auth');\n  localStorage.removeItem('contentlanguage');\n  localStorage.removeItem('dieterystatus');\n  localStorage.removeItem('permissions');\n  localStorage.removeItem('hasAllAccess');\n  // redirect on root\n  window.location = '/';\n}\nexport function verifyAndUpdateAppVersion() {\n  // Display App Version\n  console.log('APP VERSION', APP_VERSION);\n  var version = localStorage.getItem(\"APP_VERSION\");\n  if (version === null || version != APP_VERSION) {\n    localStorage.setItem(\"APP_VERSION\", APP_VERSION);\n    clearSession();\n  }\n}\nexport function _dispatch(nextState) {\n  var rerender = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var compName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  rerender = rerender ? new Date().getTime() : nextState.status;\n  return _objectSpread({}, nextState, {\n    status: rerender,\n    compName: compName\n  });\n}\nexport function authentication() {\n  // With auth token\n  if (typeof localStorage.getItem('jwtToken') !== 'undefined' && localStorage.getItem('jwtToken') !== null) {\n    return true;\n  }\n  return false;\n}\nexport function getUser() {\n  // With auth token\n  if (typeof localStorage.getItem('auth') !== 'undefined' && localStorage.getItem('auth') !== null) {\n    return JSON.parse(localStorage.getItem('auth'));\n  }\n  return null;\n}\nexport function getCurrencySymbol() {\n  // With auth token\n  if (typeof localStorage.getItem('currencySymbol') !== 'undefined' && localStorage.getItem('currencySymbol') !== null) {\n    return localStorage.getItem('currencySymbol') + \" \";\n  }\n  return null;\n}\nexport function getCurrencyCode() {\n  // With auth token\n  if (typeof localStorage.getItem('currencyCode') !== 'undefined' && localStorage.getItem('currencyCode') !== null) {\n    return localStorage.getItem('currencyCode') + \" \";\n  }\n  return null;\n}\nexport function getDieteryStatus() {\n  // With auth token\n  if (typeof localStorage.getItem('dieterystatus') !== 'undefined' && localStorage.getItem('dieterystatus') !== null) {\n    return localStorage.getItem('dieterystatus');\n  }\n  return 1;\n}\nexport function getAclChecks(permissionType) {\n  var result = 0;\n  //console.log('aaaaaaaaaa', localStorage.getItem('hasAllAccess'));\n  if (localStorage.getItem('hasAllAccess') == 'true') {\n    result = 1;\n  } else {\n    var userpermissions = JSON.parse(localStorage.getItem('permissions'));\n    userpermissions && userpermissions.length > 0 && userpermissions.map(function (obj, index) {\n      return permissionType == obj ? result = 1 : null;\n    });\n  }\n  return result;\n}\nexport function differentiateAddons(oldItem, newItem) {\n  var oldAddonArr = oldItem.fulladdons || [];\n  var newAddonArr = newItem.fulladdons || [];\n  var addOnDiff = has.differenceBy(oldAddonArr, newAddonArr, 'id');\n  addOnDiff = has.map(addOnDiff, 'id');\n  addOnDiff = addOnDiff || [];\n  var oldCust = has.map(oldAddonArr, 'semiaddons').flat();\n  var newCust = has.map(newAddonArr, 'semiaddons').flat();\n  var custDiff = has.differenceBy(oldCust, newCust, 'id');\n  custDiff = has.map(custDiff, 'id');\n  return {\n    custDiff: custDiff || [],\n    addOnDiff: addOnDiff\n  };\n}\nexport function differentiateVariant(oldItem, newItem) {\n  var oldVarArr = oldItem.variants || [];\n  var newVarArr = newItem.variants || [];\n  var variantOnDiff = has.differenceBy(oldVarArr, newVarArr, 'id');\n  variantOnDiff = has.map(variantOnDiff, 'id');\n  return variantOnDiff;\n}\nexport function diffInMinsDate(startdate, enddate) {\n  var end_date = moment(enddate); //now\n  var start_date = moment(startdate);\n  return end_date.diff(start_date, 'minutes') + \" mins\";\n}","map":{"version":3,"names":["lazy","moment","ROUTES","has","APP_VERSION","load","component","concat","fromNow","dateTime","utc","utcToLocal","format","arguments","length","undefined","local","clearSession","localStorage","removeItem","window","location","verifyAndUpdateAppVersion","console","log","version","getItem","setItem","_dispatch","nextState","rerender","compName","Date","getTime","status","_objectSpread","authentication","getUser","JSON","parse","getCurrencySymbol","getCurrencyCode","getDieteryStatus","getAclChecks","permissionType","result","userpermissions","map","obj","index","differentiateAddons","oldItem","newItem","oldAddonArr","fulladdons","newAddonArr","addOnDiff","differenceBy","oldCust","flat","newCust","custDiff","differentiateVariant","oldVarArr","variants","newVarArr","variantOnDiff","diffInMinsDate","startdate","enddate","end_date","start_date","diff"],"sources":["/home/hardik/gatoes-admin-ui/src/utilities.js"],"sourcesContent":["import { lazy } from 'react';\nimport moment from 'moment';\nimport {ROUTES} from './routes';\nimport has from 'lodash';\n\nexport const APP_VERSION = '1.0';\n\nexport function load(component){\n\n  return lazy(() => import(`./components/${component}`));\n}\n\nexport function fromNow(dateTime){\n  return moment.utc(dateTime).fromNow();\n}\n\nexport function utcToLocal(dateTime, format = 'DD-MM-YYYY'){\n  return moment.utc(dateTime).local().format(format);\n}\n\nexport function clearSession(){\n  localStorage.removeItem('jwtToken');\n  localStorage.removeItem('currencyCode');\n  localStorage.removeItem('currencySymbol');\n  localStorage.removeItem('auth');\n  localStorage.removeItem('contentlanguage');\n  localStorage.removeItem('dieterystatus');\n  localStorage.removeItem('permissions');\n  localStorage.removeItem('hasAllAccess');\n  // redirect on root\n  window.location = '/';\n}\n\nexport function verifyAndUpdateAppVersion(){\n  // Display App Version\n  console.log('APP VERSION', APP_VERSION);\n\n  const version = localStorage.getItem(\"APP_VERSION\");\n  if(version === null || version != APP_VERSION){\n    localStorage.setItem(\"APP_VERSION\", APP_VERSION);\n    clearSession();\n  }\n}\n\nexport function _dispatch(nextState, rerender = false, compName = null) {\n  rerender = rerender\n    ? new Date().getTime()\n    : nextState.status;\n  return {\n    ...nextState,\n    status: rerender,\n    compName\n  }\n}\n\nexport function authentication(){\n  // With auth token\n  if(typeof localStorage.getItem('jwtToken') !== 'undefined' && localStorage.getItem('jwtToken') !== null){\n    return true;\n  }\n\n  return false;\n}\n\nexport function getUser(){\n  // With auth token\n  if(typeof localStorage.getItem('auth') !== 'undefined' && localStorage.getItem('auth') !== null){\n    return JSON.parse(localStorage.getItem('auth'));\n  }\n\n  return null;\n}\n\nexport function getCurrencySymbol(){\n  // With auth token\n  if(typeof localStorage.getItem('currencySymbol') !== 'undefined' && localStorage.getItem('currencySymbol') !== null){\n    return localStorage.getItem('currencySymbol')+\" \";\n  }\n\n  return null;\n}\n\nexport function getCurrencyCode(){\n  // With auth token\n  if(typeof localStorage.getItem('currencyCode') !== 'undefined' && localStorage.getItem('currencyCode') !== null){\n    return localStorage.getItem('currencyCode')+\" \";\n  }\n\n  return null;\n}\n\nexport function getDieteryStatus(){\n  // With auth token\n  if(typeof localStorage.getItem('dieterystatus') !== 'undefined' && localStorage.getItem('dieterystatus') !== null){\n    return localStorage.getItem('dieterystatus');\n  }\n\n  return 1;\n}\n\nexport function getAclChecks(permissionType){\n  var result = 0;\n  //console.log('aaaaaaaaaa', localStorage.getItem('hasAllAccess'));\n  if(localStorage.getItem('hasAllAccess') == 'true'){\n    result = 1;\n  } else {\n    var userpermissions = JSON.parse(localStorage.getItem('permissions'));\n    userpermissions && userpermissions.length > 0 && userpermissions.map((obj, index) => (\n      permissionType == obj ? result = 1 : null\n    ))\n  }\n  return result;\n}\n\nexport function differentiateAddons(oldItem, newItem){\n  let oldAddonArr = oldItem.fulladdons || [];\n  let newAddonArr = newItem.fulladdons  || [];\n  let addOnDiff   =  has.differenceBy(oldAddonArr,newAddonArr,'id')\n  addOnDiff = has.map(addOnDiff,'id'); \n  addOnDiff =  addOnDiff || []; \n  let oldCust = has.map(oldAddonArr,'semiaddons').flat();\n  let newCust =  has.map(newAddonArr,'semiaddons').flat();\n  let custDiff = has.differenceBy(oldCust,newCust,'id')\n  custDiff = has.map(custDiff,'id');\n  return {custDiff:custDiff || [],addOnDiff }\n}\n\nexport function differentiateVariant(oldItem, newItem){\n  let oldVarArr = oldItem.variants || [];\n  let newVarArr = newItem.variants  || [];\n  let variantOnDiff   =  has.differenceBy(oldVarArr,newVarArr,'id')\n  variantOnDiff = has.map(variantOnDiff, 'id');\n  return variantOnDiff;\n}\n\nexport function diffInMinsDate(startdate, enddate){\n  var end_date = moment(enddate);//now\n  var start_date = moment(startdate);\n  return end_date.diff(start_date, 'minutes')+ \" mins\";\n}\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}