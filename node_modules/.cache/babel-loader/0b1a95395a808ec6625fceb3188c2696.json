{"ast":null,"code":"import _toConsumableArray from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { _dispatch, ORDER_LIST_SUCCESS, UNASSIGNED_ORDER_LIST_SUCCESS, OUTSTOCK_ORDER_LIST_SUCCESS, REBROADCAST_ORDER_SUCCESS, HOURLY_ORDER_LIST_SUCCESS, UPDATE_ORDER_LISTING_SOCKET, UPDATE_ALT_ITEMS, CANCEL_OUTSTOCK_ITEM, REMOVE_OUTSTOCK_ITEM } from '../actions/orders';\nvar INITIAL_STATE = {\n  status: null,\n  order_list: {},\n  unassigned_order_list: {},\n  outstock_order_list: {},\n  activePage: 1,\n  hourly_order_list: [],\n  outstock_alt_items_list: {}\n};\nexport default function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : INITIAL_STATE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case UPDATE_ALT_ITEMS:\n      return function () {\n        var items = _objectSpread({}, state.outstock_alt_items_list);\n        var _action$payload = action.payload,\n          mainItemId = _action$payload.mainItemId,\n          altItemId = _action$payload.altItemId,\n          qty = _action$payload.qty;\n        if (typeof items[mainItemId] === 'undefined') {\n          items[mainItemId] = {};\n        }\n        ;\n        if (!parseInt(qty)) {\n          if (typeof items[mainItemId][altItemId] !== 'undefined') delete items[mainItemId][altItemId];\n        } else {\n          items[mainItemId] = _objectSpread({}, items[mainItemId], _defineProperty({}, altItemId, parseInt(qty)));\n        }\n        console.log('items', items);\n        return _dispatch(_objectSpread({}, state, {\n          outstock_alt_items_list: items\n        }), true, 'outstockAltItems');\n      }();\n      break;\n    case CANCEL_OUTSTOCK_ITEM:\n      return function () {\n        var items = _objectSpread({}, state.outstock_alt_items_list);\n        var mainItemId = action.payload;\n        if (typeof items[mainItemId] !== 'undefined') {\n          delete items[mainItemId];\n        }\n        ;\n        return _dispatch(_objectSpread({}, state, {\n          outstock_alt_items_list: items\n        }), true, 'outstockAltItems');\n      }();\n      break;\n    case REMOVE_OUTSTOCK_ITEM:\n      return function () {\n        return _dispatch(_objectSpread({}, state, {\n          outstock_alt_items_list: {}\n        }), true, 'outstockAltItems');\n      }();\n      break;\n    case ORDER_LIST_SUCCESS:\n      return _dispatch(_objectSpread({}, state, {\n        order_list: action.payload,\n        activePage: action.activePage\n      }), true, 'orderlist');\n      break;\n    case UNASSIGNED_ORDER_LIST_SUCCESS:\n      return _dispatch(_objectSpread({}, state, {\n        unassigned_order_list: action.payload,\n        activePage: action.activePage\n      }), true, 'unassignorderlist');\n      break;\n    case OUTSTOCK_ORDER_LIST_SUCCESS:\n      return _dispatch(_objectSpread({}, state, {\n        outstock_order_list: action.payload,\n        activePage: action.activePage\n      }), true, 'outofstockorderlist');\n      break;\n    case REBROADCAST_ORDER_SUCCESS:\n      return function () {\n        var data = _toConsumableArray(state.unassigned_order_list.orders);\n        data.splice(action.payload, 1);\n        var newState = _objectSpread({}, state.unassigned_order_list);\n        newState.orders = data;\n        return _dispatch(_objectSpread({}, state, {\n          unassigned_order_list: newState\n        }), true, 'unassignorderlist');\n      }();\n      break;\n    case UPDATE_ORDER_LISTING_SOCKET:\n      return function () {\n        if (action.payload.isUpdate === true) {\n          var order_updates = _toConsumableArray(action.payload.order);\n          if (!state.order_list.orders) {\n            state.order_list.orders = [];\n          }\n          var orders = _toConsumableArray(state.order_list.orders);\n          order_updates.map(function (nitem) {\n            orders.map(function (item, index) {\n              if (item.orderId == nitem.orderId) {\n                orders[index] = nitem;\n              }\n            });\n          });\n          return _dispatch(_objectSpread({}, state, {\n            order_list: _objectSpread({}, state.order_list, {\n              orders: orders\n            })\n          }), true, 'orderlist');\n        } else {\n          if (!state.order_list.orders) {\n            state.order_list.orders = [];\n          }\n          return _dispatch(_objectSpread({}, state, {\n            order_list: _objectSpread({}, state.order_list, {\n              orders: [].concat(_toConsumableArray(action.payload.order), _toConsumableArray(state.order_list.orders))\n            })\n          }), true, 'orderlist');\n        }\n      }();\n      break;\n    case HOURLY_ORDER_LIST_SUCCESS:\n      return _dispatch(_objectSpread({}, state, {\n        hourly_order_list: action.payload,\n        activePage: action.activePage\n      }), true, 'hourlyorderlist');\n      break;\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["_dispatch","ORDER_LIST_SUCCESS","UNASSIGNED_ORDER_LIST_SUCCESS","OUTSTOCK_ORDER_LIST_SUCCESS","REBROADCAST_ORDER_SUCCESS","HOURLY_ORDER_LIST_SUCCESS","UPDATE_ORDER_LISTING_SOCKET","UPDATE_ALT_ITEMS","CANCEL_OUTSTOCK_ITEM","REMOVE_OUTSTOCK_ITEM","INITIAL_STATE","status","order_list","unassigned_order_list","outstock_order_list","activePage","hourly_order_list","outstock_alt_items_list","state","arguments","length","undefined","action","type","items","_objectSpread","_action$payload","payload","mainItemId","altItemId","qty","parseInt","_defineProperty","console","log","data","_toConsumableArray","orders","splice","newState","isUpdate","order_updates","order","map","nitem","item","index","orderId","concat"],"sources":["/home/hardik/gatoes-admin-ui/src/reducers/orders.js"],"sourcesContent":["import {\n  _dispatch,\n  ORDER_LIST_SUCCESS,\n  UNASSIGNED_ORDER_LIST_SUCCESS,\n  OUTSTOCK_ORDER_LIST_SUCCESS,\n  REBROADCAST_ORDER_SUCCESS,\n  HOURLY_ORDER_LIST_SUCCESS,\n  UPDATE_ORDER_LISTING_SOCKET,\n  UPDATE_ALT_ITEMS,\n  CANCEL_OUTSTOCK_ITEM,\n  REMOVE_OUTSTOCK_ITEM\n} from '../actions/orders';\n\nconst INITIAL_STATE = {status: null, order_list: {}, unassigned_order_list: {}, outstock_order_list: {}, activePage: 1, hourly_order_list: [], outstock_alt_items_list: {}};\n\nexport default function(state = INITIAL_STATE, action) {\n  switch(action.type) {\n    case UPDATE_ALT_ITEMS:\n      return (() => {\n        const items = {...state.outstock_alt_items_list};\n        const {mainItemId, altItemId, qty} = action.payload;\n        if(typeof items[mainItemId] === 'undefined'){\n          items[mainItemId] = {}\n        };\n        if(!parseInt(qty)){\n          if(typeof items[mainItemId][altItemId] !== 'undefined')\n            delete items[mainItemId][altItemId];\n        }else{\n          items[mainItemId] = {...items[mainItemId], [altItemId]: parseInt(qty)};\n        }\n        console.log('items', items);\n        return _dispatch({ ...state, outstock_alt_items_list: items}, true, 'outstockAltItems');\n      })();\n      break;\n    case CANCEL_OUTSTOCK_ITEM:\n      return (() => {\n        const items = {...state.outstock_alt_items_list};\n        const mainItemId = action.payload;\n        if(typeof items[mainItemId] !== 'undefined'){\n          delete items[mainItemId];\n        };\n        return _dispatch({ ...state, outstock_alt_items_list: items}, true, 'outstockAltItems');\n      })();\n      break;\n    case REMOVE_OUTSTOCK_ITEM:\n      return (() => {\n        return _dispatch({ ...state, outstock_alt_items_list: {}}, true, 'outstockAltItems');\n      })();\n      break;\n    case ORDER_LIST_SUCCESS:\n      return _dispatch({ ...state, order_list: action.payload, activePage: action.activePage}, true, 'orderlist');\n      break;\n    case UNASSIGNED_ORDER_LIST_SUCCESS:\n      return _dispatch({ ...state, unassigned_order_list: action.payload, activePage: action.activePage}, true, 'unassignorderlist');\n      break;\n    case OUTSTOCK_ORDER_LIST_SUCCESS:\n      return _dispatch({ ...state, outstock_order_list: action.payload, activePage: action.activePage}, true, 'outofstockorderlist');\n      break;\n    case REBROADCAST_ORDER_SUCCESS:\n      return (() => {\n        const data = [...state.unassigned_order_list.orders];\n        data.splice(action.payload, 1);\n        let newState = {...state.unassigned_order_list}\n        newState.orders = data;\n        return _dispatch({...state,unassigned_order_list: newState}, true, 'unassignorderlist');\n      })();\n      break;\n    case UPDATE_ORDER_LISTING_SOCKET:\n      return(() => {\n        if(action.payload.isUpdate === true){\n          const order_updates = [...action.payload.order];\n          if(!state.order_list.orders){\n            state.order_list.orders = []\n          }\n          const orders = [...state.order_list.orders];\n          order_updates.map((nitem) => {\n            orders.map((item, index) => {\n              if(item.orderId == nitem.orderId){\n                orders[index] = nitem;\n              }\n            });\n          });\n          return _dispatch({ ...state, order_list: {...state.order_list, orders: orders}}, true, 'orderlist');\n        } else {\n          if(!state.order_list.orders){\n            state.order_list.orders = []\n          }\n          return _dispatch({ ...state, order_list: {...state.order_list, orders: [...action.payload.order, ...state.order_list.orders]}}, true, 'orderlist');\n        }\n      })();\n      break;\n    case HOURLY_ORDER_LIST_SUCCESS:\n      return _dispatch({ ...state, hourly_order_list: action.payload, activePage: action.activePage}, true, 'hourlyorderlist');\n      break;\n    default:\n      return state;\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}