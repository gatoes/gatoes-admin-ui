{"ast":null,"code":"import _toConsumableArray from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _this = this,\n  _jsxFileName = \"/home/hardik/gatoes-admin-ui/src/components/menu/MenuSortableItemSlide.js\";\nimport React, { Component, Suspense } from 'react';\nimport MenuItemSlide from './MenuItemSlide';\nimport { changeItemPosition } from '../../actions/menus';\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nvar DragHandle = sortableHandle(function () {\n  return /*#__PURE__*/React.createElement(\"td\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 45\n    }\n  }));\n});\nvar SortableItem = sortableElement(function (_ref) {\n  var menuListing = _ref.menuListing,\n    shopId = _ref.shopId,\n    items = _ref.items,\n    index = _ref.index,\n    catIndex = _ref.catIndex,\n    vegStatus = _ref.vegStatus;\n  return /*#__PURE__*/React.createElement(MenuItemSlide, {\n    menuListing: menuListing,\n    shopId: shopId,\n    items: items,\n    index: index,\n    catIndex: catIndex,\n    vegStatus: vegStatus,\n    component: /*#__PURE__*/React.createElement(DragHandle, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 7,\n        columnNumber: 238\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 100\n    }\n  });\n});\nvar SortableContainer = sortableContainer(function (_ref2) {\n  var children = _ref2.children;\n  return /*#__PURE__*/React.createElement(\"table\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 17\n    }\n  }, children));\n});\nvar MenuSortableItemSlide = /*#__PURE__*/function (_Component) {\n  _inherits(MenuSortableItemSlide, _Component);\n  function MenuSortableItemSlide(props) {\n    var _this2;\n    _classCallCheck(this, MenuSortableItemSlide);\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(MenuSortableItemSlide).call(this, props));\n    _this2.state = {\n      menuListing: _toConsumableArray(props.menuListing),\n      shopId: props.shopId,\n      catIndex: props.index,\n      slideData: props.slideData,\n      categoryId: props.categoryId,\n      status: props.status,\n      vegStatus: props.vegStatus\n    };\n    return _this2;\n  }\n  _createClass(MenuSortableItemSlide, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        menuListing: _toConsumableArray(nextProps.menuListing),\n        slideData: nextProps.slideData\n      });\n    }\n  }, {\n    key: \"onSortEnd\",\n    value: function onSortEnd(_ref3) {\n      var _this3 = this;\n      var oldIndex = _ref3.oldIndex,\n        newIndex = _ref3.newIndex;\n      changeItemPosition({\n        oldPosition: this.state.slideData[oldIndex].ordering,\n        newPosition: this.state.slideData[newIndex].ordering,\n        categoryId: this.state.categoryId,\n        itemId: this.state.slideData[oldIndex].id\n      }).then(function (response) {\n        _this3.setState({\n          menu_list: response.data.data.menu\n        });\n        _this3.props.updateCategoryState(response.data.data.menu);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n      var _this$state = this.state,\n        menuListing = _this$state.menuListing,\n        shopId = _this$state.shopId,\n        catIndex = _this$state.catIndex,\n        slideData = _this$state.slideData,\n        status = _this$state.status,\n        vegStatus = _this$state.vegStatus; //console.log('menuListing', menuListing);\n      return /*#__PURE__*/React.createElement(SortableContainer, {\n        onSortEnd: this.onSortEnd.bind(this),\n        useDragHandle: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }\n      }, slideData && slideData.length > 0 && slideData.map(function (items, undex) {\n        return /*#__PURE__*/React.createElement(SortableItem, {\n          key: items.id,\n          items: items,\n          index: undex,\n          catIndex: catIndex,\n          menuListing: _this4.state.menuListing,\n          shopId: _this4.state.shopId,\n          vegStatus: _this4.state.vegStatus,\n          __self: _this4,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }\n        });\n      }));\n    }\n  }]);\n  return MenuSortableItemSlide;\n}(Component);\nexport default MenuSortableItemSlide;","map":{"version":3,"names":["React","Component","Suspense","MenuItemSlide","changeItemPosition","sortableContainer","sortableElement","sortableHandle","arrayMove","DragHandle","createElement","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","SortableItem","_ref","menuListing","shopId","items","index","catIndex","vegStatus","component","SortableContainer","_ref2","children","MenuSortableItemSlide","_Component","_inherits","props","_this2","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","_toConsumableArray","slideData","categoryId","status","_createClass","key","value","componentWillReceiveProps","nextProps","setState","onSortEnd","_ref3","_this3","oldIndex","newIndex","oldPosition","ordering","newPosition","itemId","id","then","response","menu_list","data","menu","updateCategoryState","render","_this4","_this$state","bind","useDragHandle","length","map","undex"],"sources":["/home/hardik/gatoes-admin-ui/src/components/menu/MenuSortableItemSlide.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\nimport MenuItemSlide from './MenuItemSlide';\nimport {changeItemPosition} from '../../actions/menus';\nimport {sortableContainer, sortableElement, sortableHandle} from 'react-sortable-hoc';\nimport arrayMove from 'array-move';\nconst DragHandle = sortableHandle(() => <td><span></span></td>);\nconst SortableItem = sortableElement(({menuListing, shopId, items, index, catIndex, vegStatus}) => <MenuItemSlide menuListing={menuListing} shopId={shopId} items={items} index={index} catIndex={catIndex} vegStatus={vegStatus} component={<DragHandle />} />);\n\nconst SortableContainer = sortableContainer(({children}) => {\n  return <table><tbody>{children}</tbody></table>;\n});\n\n\nclass MenuSortableItemSlide extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      menuListing: [...props.menuListing],\n      shopId: props.shopId,\n      catIndex: props.index,\n      slideData: props.slideData,\n      categoryId: props.categoryId,\n      status: props.status,\n      vegStatus: props.vegStatus\n    };\n  }\n\n  componentWillReceiveProps(nextProps){\n    this.setState({\n      menuListing: [...nextProps.menuListing],\n      slideData: nextProps.slideData\n    });\n  }\n\n  onSortEnd({oldIndex, newIndex}){\n    changeItemPosition({oldPosition: this.state.slideData[oldIndex].ordering, newPosition: this.state.slideData[newIndex].ordering, categoryId: this.state.categoryId, itemId: this.state.slideData[oldIndex].id}).then((response) => {\n      this.setState({\n        menu_list:  response.data.data.menu\n      });\n      this.props.updateCategoryState(response.data.data.menu);\n    })\n  }\n\n\trender() {\n    const {menuListing, shopId, catIndex, slideData, status, vegStatus} = this.state;\n    //console.log('menuListing', menuListing);\n  \treturn (\n      <SortableContainer onSortEnd={this.onSortEnd.bind(this)} useDragHandle>\n        {\n          slideData && slideData.length > 0 &&\n        slideData.map((items, undex) => (\n            <SortableItem key={items.id} items = {items} index={undex} catIndex={catIndex} menuListing={this.state.menuListing} shopId={this.state.shopId} vegStatus={this.state.vegStatus} />\n          ))\n        }\n      </SortableContainer>\n  \t);\n\t}\n}\n\nexport default MenuSortableItemSlide;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}