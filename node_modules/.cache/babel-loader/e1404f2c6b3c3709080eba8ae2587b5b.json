{"ast":null,"code":"import _classCallCheck from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hardik/gatoes-admin-ui/src/components/deals/RenderNewDealOptionSlide.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field } from \"redux-form\";\nimport renderReactSelect from \"../FormFields/renderReactSelect\";\nimport { getshopcategoryNew, getmenulistNew } from \"../../actions/shops\";\nimport { withRouter } from \"react-router-dom\";\nimport renderField from \"../FormFields/renderField\";\nvar RenderNewDealOptionSlide = /*#__PURE__*/function (_Component) {\n  _inherits(RenderNewDealOptionSlide, _Component);\n  function RenderNewDealOptionSlide(props) {\n    var _this;\n    _classCallCheck(this, RenderNewDealOptionSlide);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RenderNewDealOptionSlide).call(this, props));\n    _this.state = {\n      dealsOn: props.dealsOn,\n      index: props.index,\n      fields: props.fields,\n      shopId: \"\",\n      restaurentCategoryItemList: [],\n      restaurentCategoryList: [],\n      freeCategoryItemList: [],\n      freeCategoryList: []\n    };\n    _this.handleCatItem = _this.handleCatItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleFreeCatItem = _this.handleFreeCatItem.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(RenderNewDealOptionSlide, [{\n    key: \"handleCatItem\",\n    value: function handleCatItem(e) {\n      var _this2 = this;\n      console.log(e, \"eVentDeal\");\n      var categoryIds = e.map(function (cat) {\n        return cat.id;\n      });\n      if (e.length == 0) {\n        this.setState({\n          restaurentCategoryItemList: []\n        });\n      } else {\n        getmenulistNew({\n          shopId: this.props.match.params.index,\n          categoryId: categoryIds,\n          isDeal: true\n        }).then(function (response) {\n          _this2.setState({\n            restaurentCategoryItemList: response.data.data.menu\n          });\n        });\n      }\n    } // function to handle free item category \n  }, {\n    key: \"handleFreeCatItem\",\n    value: function handleFreeCatItem(e, index) {\n      var _this3 = this;\n      var freecategoryIds = e.map(function (cat) {\n        return cat.id;\n      });\n      console.log(e, \"EventcategoryIds\");\n      if (e.length == 0) {\n        this.setState({\n          freeCategoryItemList: []\n        });\n      } else {\n        getmenulistNew({\n          shopId: this.props.match.params.index,\n          categoryId: freecategoryIds,\n          isDeal: true\n        }).then(function (response) {\n          _this3.setState({\n            freeCategoryItemList: response.data.data.menu\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this4 = this;\n      getshopcategoryNew({\n        shopId: [this.props.match.params.index]\n      }).then(function (response) {\n        _this4.setState({\n          restaurentCategoryList: response.data.data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this5 = this;\n      var _this$state = this.state,\n        dealsOn = _this$state.dealsOn,\n        index = _this$state.index,\n        fields = _this$state.fields,\n        restaurentCategoryList = _this$state.restaurentCategoryList,\n        restaurentCategoryItemList = _this$state.restaurentCategoryItemList,\n        freeCategoryItemList = _this$state.freeCategoryItemList;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mp-addon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 newpromo_wrap_deals\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Field, {\n        label: \"Choose Category\",\n        name: \"\".concat(dealsOn, \".category\"),\n        optionLabel: \"name\",\n        optionValue: \"id\",\n        options: restaurentCategoryList,\n        component: renderReactSelect,\n        placeholder: \"Choose Category\",\n        multi: true,\n        className: \"select-ui\",\n        parentDivClass: \"form-group w-45\",\n        parentCallback: function parentCallback(e) {\n          return _this5.handleCatItem(e, index);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        label: \"Choose Item\",\n        name: \"\".concat(dealsOn, \".item\"),\n        optionLabel: \"name\",\n        optionValue: \"id\",\n        options: restaurentCategoryItemList,\n        component: renderReactSelect,\n        placeholder: \"Choose Item\",\n        multi: true,\n        className: \"select-ui\",\n        parentDivClass: \"form-group w-45\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        name: \"\".concat(dealsOn, \".item_quantity\"),\n        component: renderField,\n        type: \"number\",\n        className: \"form-control\",\n        label: \"Buy Item Quantity\",\n        placeholder: \"eg. 30\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(Field, {\n        name: \"\".concat(dealsOn, \".free_item_quantity\"),\n        component: renderField,\n        type: \"number\",\n        className: \"form-control\",\n        label: \"Free Item Quantity\",\n        placeholder: \"eg. 1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 12\n        }\n      })));\n    }\n  }]);\n  return RenderNewDealOptionSlide;\n}(Component);\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {};\n};\nRenderNewDealOptionSlide = withRouter(RenderNewDealOptionSlide);\nexport default connect(null, mapDispatchToProps)(RenderNewDealOptionSlide);","map":{"version":3,"names":["React","Component","connect","Field","renderReactSelect","getshopcategoryNew","getmenulistNew","withRouter","renderField","RenderNewDealOptionSlide","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","dealsOn","index","fields","shopId","restaurentCategoryItemList","restaurentCategoryList","freeCategoryItemList","freeCategoryList","handleCatItem","bind","_assertThisInitialized","handleFreeCatItem","_createClass","key","value","e","_this2","console","log","categoryIds","map","cat","id","length","setState","match","params","categoryId","isDeal","then","response","data","menu","_this3","freecategoryIds","componentDidMount","_this4","render","_this5","_this$state","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","label","name","concat","optionLabel","optionValue","options","component","placeholder","multi","parentDivClass","parentCallback","type","mapDispatchToProps","dispatch"],"sources":["/home/hardik/gatoes-admin-ui/src/components/deals/RenderNewDealOptionSlide.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Field } from \"redux-form\";\nimport renderReactSelect from \"../FormFields/renderReactSelect\";\nimport { getshopcategoryNew, getmenulistNew } from \"../../actions/shops\";\n\nimport { withRouter } from \"react-router-dom\";\nimport renderField from \"../FormFields/renderField\";\n\nclass RenderNewDealOptionSlide extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dealsOn: props.dealsOn,\n      index: props.index,\n      fields: props.fields,\n      shopId:\"\",\n      restaurentCategoryItemList:[],restaurentCategoryList:[],\n      freeCategoryItemList:[],freeCategoryList:[],\n    };\n    this.handleCatItem = this.handleCatItem.bind(this);\n    this.handleFreeCatItem = this.handleFreeCatItem.bind(this);\n  }\n\n  handleCatItem(e) {\n    console.log(e,\"eVentDeal\")\n    const categoryIds = e.map((cat) => cat.id);\n\n   \n\n    if(e.length == 0){\n      this.setState({\n        restaurentCategoryItemList: [],\n      });\n    }else{\n      getmenulistNew({ shopId:  this.props.match.params.index, categoryId: categoryIds, isDeal:true }).then(\n        (response) => {\n          this.setState({\n            restaurentCategoryItemList: response.data.data.menu,\n          });\n        }\n      );\n    }\n   \n  }\n\n  // function to handle free item category \n  handleFreeCatItem(e,index) {\n    let freecategoryIds = e.map((cat) => cat.id);\n    console.log(e,\"EventcategoryIds\")\n\n    if(e.length == 0){\n      this.setState({\n        freeCategoryItemList: [],\n      });\n    }else{\n      getmenulistNew({ shopId:  this.props.match.params.index, categoryId: freecategoryIds, isDeal:true }).then(\n        (response) => {\n          this.setState({\n            freeCategoryItemList: response.data.data.menu,\n          });\n        }\n      );\n    }\n   \n  }\n  \n\n\n\n  componentDidMount() {\n    getshopcategoryNew({ shopId: [ this.props.match.params.index] }).then((response) => {\n      this.setState({\n        restaurentCategoryList: response.data.data,\n      });\n    });\n  }\n\n  render() {\n    const { dealsOn, index, fields,restaurentCategoryList,restaurentCategoryItemList,freeCategoryItemList } = this.state;\n\n    return (\n     \n      <div className=\"row mp-addon\">\n        <div className=\"col-sm-12 newpromo_wrap_deals\">\n          <Field\n            label=\"Choose Category\"\n            name={`${dealsOn}.category`}\n            optionLabel=\"name\"\n            optionValue=\"id\"\n            options={restaurentCategoryList}\n            component={renderReactSelect}\n            placeholder=\"Choose Category\"\n            multi={true}\n            className=\"select-ui\"\n            parentDivClass=\"form-group w-45\"\n            parentCallback={(e) => this.handleCatItem(e, index)}\n\n          />\n          <Field\n            label=\"Choose Item\"\n            name={`${dealsOn}.item`}\n            optionLabel=\"name\"\n            optionValue=\"id\"\n            options={restaurentCategoryItemList}\n            component={renderReactSelect}\n            placeholder=\"Choose Item\"\n            multi={true}\n            className=\"select-ui\"\n            parentDivClass=\"form-group w-45\"\n\n\n          />\n          <Field\n            name={`${dealsOn}.item_quantity`}\n            component={renderField}\n            type=\"number\"\n            className=\"form-control\"\n            label=\"Buy Item Quantity\"\n            placeholder=\"eg. 30\"\n          />\n           <Field\n            name={`${dealsOn}.free_item_quantity`}\n            component={renderField}\n            type=\"number\"\n            className=\"form-control\"\n            label=\"Free Item Quantity\"\n            placeholder=\"eg. 1\"\n          />\n          </div>\n       \n      </div>\n    );\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  \n  };\n};\n\nRenderNewDealOptionSlide = withRouter(RenderNewDealOptionSlide);\nexport default connect(null, mapDispatchToProps)(RenderNewDealOptionSlide);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}