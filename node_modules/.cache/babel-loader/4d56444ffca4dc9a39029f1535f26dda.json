{"ast":null,"code":"import _objectSpread from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hardik/gatoes-admin-ui/src/components/reporting/RefundReportingSlide.js\";\nimport React, { Component, Suspense } from 'react';\nimport { render } from 'react-dom';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport { getCurrencySymbol } from '../../utilities';\nimport moment from 'moment';\nimport { REFUND_REASON, WHO_BEAR_COST_REFUND_ORDER, TRANSFER_TYPE } from '../../constants';\nimport { toast } from 'react-toastify';\nimport { updateRefundStatus } from '../../actions/orders';\nvar RefundReportingSlide = /*#__PURE__*/function (_Component) {\n  _inherits(RefundReportingSlide, _Component);\n  function RefundReportingSlide(props) {\n    var _this;\n    _classCallCheck(this, RefundReportingSlide);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RefundReportingSlide).call(this, props));\n    _this.state = {\n      slideData: props.slideData,\n      startDate: props.startDate,\n      endDate: props.endDate,\n      index: props.index,\n      srno: props.srno\n    };\n    _this.markClosed = _this.markClosed.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(RefundReportingSlide, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        slideData: nextProps.slideData,\n        status: nextProps.status,\n        index: nextProps.index\n      });\n    }\n  }, {\n    key: \"markClosed\",\n    value: function markClosed() {\n      var _this2 = this;\n      var slideData = this.state.slideData;\n      confirmAlert({\n        title: '',\n        message: \"Do you want to mark this transaction closed?\",\n        buttons: [{\n          label: 'Yes',\n          onClick: function onClick() {\n            updateRefundStatus({\n              id: slideData._id\n            }).then(function (response) {\n              _this2.setState({\n                slideData: _objectSpread({}, slideData, {\n                  isOpen: false\n                })\n              });\n              toast.success('Transaction marked closed successfully.', {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            });\n          }\n        }, {\n          label: 'No'\n        }]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n        slideData = _this$state.slideData,\n        index = _this$state.index,\n        srno = _this$state.srno;\n      var currency = getCurrencySymbol();\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }\n      }, parseInt(parseInt(index + 1) + srno)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, slideData && slideData.restaurant && slideData.restaurant.shopName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, slideData.orderId), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      }, currency, slideData.refund_amount), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }\n      }, slideData && slideData.refundedBy && slideData.refundedBy.name ? slideData.refundedBy.name : null), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, \" \", slideData.other_reason != '' ? slideData.other_reason : REFUND_REASON[slideData.refund_reason].label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, TRANSFER_TYPE[slideData.transfer_type].label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }\n      }, WHO_BEAR_COST_REFUND_ORDER[slideData.who_bear_cost].label), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }\n      }, slideData && slideData.isOpen && slideData.isOpen === true ? /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        href: \"javascript:void(0)\",\n        onClick: this.markClosed,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 22\n        }\n      }, \"Open\")) : /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 15\n        }\n      }, \"Closed\")), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, moment(slideData.createdAt).format('llll'))));\n    }\n  }]);\n  return RefundReportingSlide;\n}(Component);\nexport default RefundReportingSlide;","map":{"version":3,"names":["React","Component","Suspense","render","confirmAlert","getCurrencySymbol","moment","REFUND_REASON","WHO_BEAR_COST_REFUND_ORDER","TRANSFER_TYPE","toast","updateRefundStatus","RefundReportingSlide","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","slideData","startDate","endDate","index","srno","markClosed","bind","_assertThisInitialized","_createClass","key","value","componentWillReceiveProps","nextProps","setState","status","_this2","title","message","buttons","label","onClick","id","_id","then","response","_objectSpread","isOpen","success","position","POSITION","TOP_RIGHT","_this$state","currency","createElement","Fragment","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","parseInt","restaurant","shopName","orderId","refund_amount","refundedBy","name","other_reason","refund_reason","transfer_type","who_bear_cost","href","createdAt","format"],"sources":["/home/hardik/gatoes-admin-ui/src/components/reporting/RefundReportingSlide.js"],"sourcesContent":["import React, { Component, Suspense } from 'react';\nimport { render } from 'react-dom';\nimport { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\nimport {getCurrencySymbol} from '../../utilities';\nimport moment from 'moment';\nimport {REFUND_REASON, WHO_BEAR_COST_REFUND_ORDER, TRANSFER_TYPE} from '../../constants';\nimport { toast } from 'react-toastify';\nimport {updateRefundStatus} from '../../actions/orders';\n\nclass RefundReportingSlide extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      slideData: props.slideData,\n      startDate: props.startDate,\n      endDate: props.endDate,\n      index: props.index,\n      srno: props.srno\n    };\n    this.markClosed = this.markClosed.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps){\n    this.setState({\n      slideData: nextProps.slideData,\n      status: nextProps.status,\n      index: nextProps.index\n    });\n  }\n\n  markClosed(){\n    const { slideData } = this.state;\n    confirmAlert({\n      title: '',\n      message: \"Do you want to mark this transaction closed?\",\n      buttons: [\n        {\n          label: 'Yes',\n          onClick: () => {\n            updateRefundStatus({id: slideData._id}).then((response) => {\n              this.setState({\n                slideData: {...slideData, isOpen: false}\n              });\n              toast.success('Transaction marked closed successfully.', {\n                position: toast.POSITION.TOP_RIGHT\n              });\n            });\n          }\n        },\n        {\n          label: 'No'\n        }\n      ]\n    })\n  }\n\n  \n\n\trender() {\n      const { slideData, index, srno } = this.state;\n      let currency = getCurrencySymbol();\n      return (\n        <>\n        <tr>\n          <td>{ parseInt(parseInt(index+1) + srno)}</td>\n          <td>{ slideData && slideData.restaurant && slideData.restaurant.shopName }</td>\n          <td>{slideData.orderId}</td>\n          <td>{currency}{slideData.refund_amount}</td>\n          <td>{slideData && slideData.refundedBy && slideData.refundedBy.name ? slideData.refundedBy.name : null}</td>\n          <td> {slideData.other_reason != '' ? slideData.other_reason : REFUND_REASON[slideData.refund_reason].label}</td>\n          <td>{TRANSFER_TYPE[slideData.transfer_type].label}</td>\n          <td>{WHO_BEAR_COST_REFUND_ORDER[slideData.who_bear_cost].label}</td>\n          <td>\n            {\n              slideData && slideData.isOpen && slideData.isOpen === true\n              ? \n              <label><a href=\"javascript:void(0)\" onClick={this.markClosed}>Open</a></label>\n              :\n              <label>Closed</label>\n            }\n          </td>\n          <td>{ moment(slideData.createdAt).format('llll') }</td>\n        </tr>\n        </>\n    \t);\n  \t}\n}\n\nexport default RefundReportingSlide;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}