{"ast":null,"code":"import _classCallCheck from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hardik/gatoes-admin-ui/src/components/shops/ManageShopLogo.js\";\nimport React, { Component } from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport { toast } from 'react-toastify';\nimport ShopImage from './ShopImage';\nimport { updateShopLogo, getShopLogoById } from '../../actions/shops';\nvar ManageShopLogo = /*#__PURE__*/function (_Component) {\n  _inherits(ManageShopLogo, _Component);\n  function ManageShopLogo(props) {\n    var _this;\n    _classCallCheck(this, ManageShopLogo);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageShopLogo).call(this, props));\n    _this.state = {\n      is_submitting: false,\n      shopId: props.shopId,\n      itemLogoUrl: null\n    };\n    _this.getShopLogo = _this.getShopLogo.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(ManageShopLogo, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.change('shopId', this.state.shopId);\n    }\n  }, {\n    key: \"getShopLogo\",\n    value: function getShopLogo(imageId) {\n      this.props.change('logoId', imageId);\n      this.props.change('shopId', this.state.shopId);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n      getShopLogoById({\n        shopId: this.state.shopId\n      }).then(function (response) {\n        if (response.data.data.logo != null) {\n          _this2.props.initialize(response.data.data);\n          _this2.setState({\n            itemLogoUrl: response.data.data.logo\n          });\n          _this2.props.change('logoId', response.data.data.logoId);\n          _this2.props.change('shopId', _this2.state.shopId);\n        }\n      });\n    }\n  }, {\n    key: \"submitLogoImage\",\n    value: function submitLogoImage(values) {\n      var _this3 = this;\n      return updateShopLogo(values).then(function (result) {\n        toast.success('Restaurant logo uploaded successfully.');\n        _this3.props.reset();\n        _this3.props.history.push('/dashboard/shoplisting');\n        _this3.props.setMenuStatus('banner');\n      }).catch(function (error) {\n        // Handle error\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        handleSubmit = _this$props.handleSubmit,\n        submitting = _this$props.submitting;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container ani-ui-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitLogoImage.bind(this)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ShopImage, {\n        getShopImage: this.getShopLogo,\n        itemImageUrl: this.state.itemLogoUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row save-button-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: submitting,\n        className: \"btn green-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }\n      }, \"Submit details\", submitting && /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 50\n        }\n      }))))))));\n    }\n  }]);\n  return ManageShopLogo;\n}(Component);\nManageShopLogo = reduxForm({\n  form: 'ManageShopLogoForm',\n  destroyOnUnmount: false\n})(ManageShopLogo);\nexport default ManageShopLogo;","map":{"version":3,"names":["React","Component","reduxForm","Field","toast","ShopImage","updateShopLogo","getShopLogoById","ManageShopLogo","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","is_submitting","shopId","itemLogoUrl","getShopLogo","bind","_assertThisInitialized","_createClass","key","value","componentDidMount","change","imageId","componentWillMount","_this2","then","response","data","logo","initialize","setState","logoId","submitLogoImage","values","_this3","result","success","reset","history","push","setMenuStatus","catch","error","render","_this$props","handleSubmit","submitting","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","getShopImage","itemImageUrl","type","disabled","form","destroyOnUnmount"],"sources":["/home/hardik/gatoes-admin-ui/src/components/shops/ManageShopLogo.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { reduxForm, Field } from 'redux-form';\nimport { toast } from 'react-toastify';\nimport ShopImage from './ShopImage';\nimport { updateShopLogo, getShopLogoById } from '../../actions/shops';\n\nclass ManageShopLogo extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      is_submitting: false,\n      shopId: props.shopId,\n      itemLogoUrl: null\n    };\n    this.getShopLogo = this.getShopLogo.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.change('shopId', this.state.shopId);\n  }\n\n  getShopLogo(imageId) {\n    this.props.change('logoId', imageId);\n    this.props.change('shopId', this.state.shopId);\n  }\n\n  componentWillMount() {\n    getShopLogoById({ shopId: this.state.shopId }).then((response) => {\n      if (response.data.data.logo != null) {\n        this.props.initialize(response.data.data);\n        this.setState({\n          itemLogoUrl: response.data.data.logo\n        });\n        this.props.change('logoId', response.data.data.logoId);\n        this.props.change('shopId', this.state.shopId);\n      }\n    });\n  }\n\n  submitLogoImage(values) {\n    return updateShopLogo(values)\n      .then((result) => {\n        toast.success('Restaurant logo uploaded successfully.');\n        this.props.reset();\n        this.props.history.push('/dashboard/shoplisting');\n        this.props.setMenuStatus('banner');\n      })\n      .catch((error) => {\n        // Handle error\n      });\n  }\n\n  render() {\n    const { handleSubmit, submitting } = this.props;\n    return (\n      <div className=\"container ani-ui-block\">\n        <form onSubmit={handleSubmit(this.submitLogoImage.bind(this))}>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              <ShopImage getShopImage={this.getShopLogo} itemImageUrl={this.state.itemLogoUrl} />\n            </div>\n            <div className=\"col-lg-12\">\n              <div className=\"row save-button-block\">\n                <div className=\"col-sm-12 align-self-center\">\n                  <button type=\"submit\" disabled={submitting} className=\"btn green-btn\">\n                    Submit details{submitting && <i className=\"fa fa-spinner fa-spin\"></i>}\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nManageShopLogo = reduxForm({\n  form: 'ManageShopLogoForm',\n  destroyOnUnmount: false\n})(ManageShopLogo);\n\nexport default ManageShopLogo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}