{"ast":null,"code":"import _classCallCheck from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/hardik/gatoes-admin-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/hardik/gatoes-admin-ui/src/components/shops/ManageShopImage.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { reduxForm, Field, SubmissionError, reset } from 'redux-form';\nimport renderFieldLabelTransition from '../FormFields/renderFieldLabelTransition';\nimport renderField from '../FormFields/renderField';\nimport { toast } from 'react-toastify';\nimport ShopImage from './ShopImage';\nimport { updateShopImage, getShopImageById } from '../../actions/shops';\nvar ManageShopImage = /*#__PURE__*/function (_Component) {\n  _inherits(ManageShopImage, _Component);\n  function ManageShopImage(props) {\n    var _this;\n    _classCallCheck(this, ManageShopImage);\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ManageShopImage).call(this, props));\n    _this.state = {\n      is_submitting: false,\n      shopId: props.shopId,\n      itemImageUrl: null\n    };\n    _this.getShopImage = _this.getShopImage.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n  _createClass(ManageShopImage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.props.change('shopId', this.state.shopId);\n    }\n  }, {\n    key: \"getShopImage\",\n    value: function getShopImage(imageId) {\n      this.props.change('imageId', imageId);\n      this.props.change('shopId', this.state.shopId);\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n      getShopImageById({\n        shopId: this.state.shopId\n      }).then(function (response) {\n        console.log('response', response);\n        if (response.data.data.image != null) {\n          _this2.props.initialize(response.data.data);\n          _this2.setState({\n            itemImageUrl: response.data.data.image\n          });\n          _this2.props.change('imageId', response.data.data.imageId);\n          _this2.props.change('shopId', _this2.state.shopId);\n        }\n      });\n    }\n  }, {\n    key: \"submitMenuImage\",\n    value: function submitMenuImage(values) {\n      var _this3 = this;\n      console.log('values', values);\n      return updateShopImage(values).then(function (result) {\n        toast.success('Restaurant images uploaded Successfully.');\n        _this3.props.reset();\n        _this3.props.history.push('/dashboard/shoplisting');\n        _this3.props.setMenuStatus('banner');\n      }).catch(function (error) {\n        //throw new SubmissionError(error.response.data.error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        handleSubmit = _this$props.handleSubmit,\n        pristine = _this$props.pristine,\n        submitting = _this$props.submitting,\n        cuisineList = _this$props.cuisineList;\n      console.log('shoop', this.state.shopId);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container ani-ui-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleSubmit(this.submitMenuImage.bind(this)),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12 col-md-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(ShopImage, {\n        getShopImage: this.getShopImage,\n        itemImageUrl: this.state.itemImageUrl,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row save-button-block\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-sm-12 align-self-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        disabled: submitting,\n        className: \"btn green-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }\n      }, \"Submit details\", submitting && /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-spinner fa-spin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 116\n        }\n      }))))))));\n    }\n  }]);\n  return ManageShopImage;\n}(Component);\nManageShopImage = reduxForm({\n  form: 'ManageShopImageForm',\n  destroyOnUnmount: false\n})(ManageShopImage);\nexport default ManageShopImage;","map":{"version":3,"names":["React","Component","Redirect","reduxForm","Field","SubmissionError","reset","renderFieldLabelTransition","renderField","toast","ShopImage","updateShopImage","getShopImageById","ManageShopImage","_Component","_inherits","props","_this","_classCallCheck","_possibleConstructorReturn","_getPrototypeOf","call","state","is_submitting","shopId","itemImageUrl","getShopImage","bind","_assertThisInitialized","_createClass","key","value","componentDidMount","change","imageId","componentWillMount","_this2","then","response","console","log","data","image","initialize","setState","submitMenuImage","values","_this3","result","success","history","push","setMenuStatus","catch","error","render","_this$props","handleSubmit","pristine","submitting","cuisineList","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","disabled","form","destroyOnUnmount"],"sources":["/home/hardik/gatoes-admin-ui/src/components/shops/ManageShopImage.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport { reduxForm, Field, SubmissionError, reset } from 'redux-form';\nimport renderFieldLabelTransition from '../FormFields/renderFieldLabelTransition';\nimport renderField from '../FormFields/renderField';\nimport {toast} from 'react-toastify';\nimport ShopImage from './ShopImage';\nimport { updateShopImage, getShopImageById } from '../../actions/shops';\n\nclass ManageShopImage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      is_submitting: false,\n      shopId : props.shopId,\n      itemImageUrl : null\n    }\n    this.getShopImage = this.getShopImage.bind(this);\n  }\n\n  componentDidMount(){\n    this.props.change('shopId', this.state.shopId);\n  }\n  \n  getShopImage(imageId){\n    this.props.change('imageId', imageId);\n    this.props.change('shopId', this.state.shopId);\n  }\n\n  componentWillMount(){\n    getShopImageById({shopId : this.state.shopId}).then((response) => {\n      console.log('response', response);\n      if(response.data.data.image != null){\n        this.props.initialize(response.data.data);\n        this.setState({\n          itemImageUrl: response.data.data.image\n        });\n        this.props.change('imageId', response.data.data.imageId);\n        this.props.change('shopId', this.state.shopId);\n\n      }\n    });\n  }\n\n  submitMenuImage(values){\n    console.log('values', values);\n    return updateShopImage(values)\n    .then((result) => {\n      toast.success('Restaurant images uploaded Successfully.');\n      this.props.reset();\n      this.props.history.push('/dashboard/shoplisting');\n      this.props.setMenuStatus('banner');\n    }).catch(error => {\n      //throw new SubmissionError(error.response.data.error);\n    })\n  }\n\n  render() {\n    const {handleSubmit, pristine, submitting, cuisineList} = this.props;\n    console.log('shoop', this.state.shopId);\n    return (\n      <div className=\"container ani-ui-block\">\n        <form onSubmit={handleSubmit(this.submitMenuImage.bind(this))}>\n          <div className=\"row\">\n            <div className=\"col-lg-12 col-md-12\">\n              \n              <ShopImage getShopImage={this.getShopImage} itemImageUrl={this.state.itemImageUrl} />\n              \n            </div>\n            <div className=\"col-lg-12\">\n            <div className=\"row save-button-block\">\n              <div className=\"col-sm-12 align-self-center\">\n                <button type=\"submit\" disabled={submitting} className=\"btn green-btn\">Submit details{submitting && <i className=\"fa fa-spinner fa-spin\"></i>}</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n\nManageShopImage = reduxForm({\n  form: 'ManageShopImageForm',\n  destroyOnUnmount: false\n})(ManageShopImage)\n\nexport default ManageShopImage;\n"],"mappings":";;;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,SAAS,EAAEC,KAAK,EAAEC,eAAe,EAAEC,KAAK,QAAQ,YAAY;AACrE,OAAOC,0BAA0B,MAAM,0CAA0C;AACjF,OAAOC,WAAW,MAAM,2BAA2B;AACnD,SAAQC,KAAK,QAAO,gBAAgB;AACpC,OAAOC,SAAS,MAAM,aAAa;AACnC,SAASC,eAAe,EAAEC,gBAAgB,QAAQ,qBAAqB;AAAC,IAElEC,eAAe,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,eAAA,EAAAC,UAAA;EACnB,SAAAD,gBAAYG,KAAK,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAL,eAAA;IACjBI,KAAA,GAAAE,0BAAA,OAAAC,eAAA,CAAAP,eAAA,EAAAQ,IAAA,OAAML,KAAK;IACXC,KAAA,CAAKK,KAAK,GAAG;MACXC,aAAa,EAAE,KAAK;MACpBC,MAAM,EAAGR,KAAK,CAACQ,MAAM;MACrBC,YAAY,EAAG;IACjB,CAAC;IACDR,KAAA,CAAKS,YAAY,GAAGT,KAAA,CAAKS,YAAY,CAACC,IAAI,CAAAC,sBAAA,CAAAA,sBAAA,CAAAX,KAAA,EAAK,CAAC;IAAC,OAAAA,KAAA;EACnD;EAACY,YAAA,CAAAhB,eAAA;IAAAiB,GAAA;IAAAC,KAAA,WAAAC,kBAAA,EAEkB;MACjB,IAAI,CAAChB,KAAK,CAACiB,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACX,KAAK,CAACE,MAAM,CAAC;IAChD;EAAC;IAAAM,GAAA;IAAAC,KAAA,WAAAL,aAEYQ,OAAO,EAAC;MACnB,IAAI,CAAClB,KAAK,CAACiB,MAAM,CAAC,SAAS,EAAEC,OAAO,CAAC;MACrC,IAAI,CAAClB,KAAK,CAACiB,MAAM,CAAC,QAAQ,EAAE,IAAI,CAACX,KAAK,CAACE,MAAM,CAAC;IAChD;EAAC;IAAAM,GAAA;IAAAC,KAAA,WAAAI,mBAAA,EAEmB;MAAA,IAAAC,MAAA;MAClBxB,gBAAgB,CAAC;QAACY,MAAM,EAAG,IAAI,CAACF,KAAK,CAACE;MAAM,CAAC,CAAC,CAACa,IAAI,CAAC,UAACC,QAAQ,EAAK;QAChEC,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEF,QAAQ,CAAC;QACjC,IAAGA,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACC,KAAK,IAAI,IAAI,EAAC;UAClCN,MAAI,CAACpB,KAAK,CAAC2B,UAAU,CAACL,QAAQ,CAACG,IAAI,CAACA,IAAI,CAAC;UACzCL,MAAI,CAACQ,QAAQ,CAAC;YACZnB,YAAY,EAAEa,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACC;UACnC,CAAC,CAAC;UACFN,MAAI,CAACpB,KAAK,CAACiB,MAAM,CAAC,SAAS,EAAEK,QAAQ,CAACG,IAAI,CAACA,IAAI,CAACP,OAAO,CAAC;UACxDE,MAAI,CAACpB,KAAK,CAACiB,MAAM,CAAC,QAAQ,EAAEG,MAAI,CAACd,KAAK,CAACE,MAAM,CAAC;QAEhD;MACF,CAAC,CAAC;IACJ;EAAC;IAAAM,GAAA;IAAAC,KAAA,WAAAc,gBAEeC,MAAM,EAAC;MAAA,IAAAC,MAAA;MACrBR,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEM,MAAM,CAAC;MAC7B,OAAOnC,eAAe,CAACmC,MAAM,CAAC,CAC7BT,IAAI,CAAC,UAACW,MAAM,EAAK;QAChBvC,KAAK,CAACwC,OAAO,CAAC,0CAA0C,CAAC;QACzDF,MAAI,CAAC/B,KAAK,CAACV,KAAK,CAAC,CAAC;QAClByC,MAAI,CAAC/B,KAAK,CAACkC,OAAO,CAACC,IAAI,CAAC,wBAAwB,CAAC;QACjDJ,MAAI,CAAC/B,KAAK,CAACoC,aAAa,CAAC,QAAQ,CAAC;MACpC,CAAC,CAAC,CAACC,KAAK,CAAC,UAAAC,KAAK,EAAI;QAChB;MAAA,CACD,CAAC;IACJ;EAAC;IAAAxB,GAAA;IAAAC,KAAA,WAAAwB,OAAA,EAEQ;MAAA,IAAAC,WAAA,GACmD,IAAI,CAACxC,KAAK;QAA7DyC,YAAY,GAAAD,WAAA,CAAZC,YAAY;QAAEC,QAAQ,GAAAF,WAAA,CAARE,QAAQ;QAAEC,UAAU,GAAAH,WAAA,CAAVG,UAAU;QAAEC,WAAW,GAAAJ,WAAA,CAAXI,WAAW;MACtDrB,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAAClB,KAAK,CAACE,MAAM,CAAC;MACvC,oBACExB,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,wBAAwB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACrCpE,KAAA,CAAA6D,aAAA;QAAMQ,QAAQ,EAAEZ,YAAY,CAAC,IAAI,CAACZ,eAAe,CAAClB,IAAI,CAAC,IAAI,CAAC,CAAE;QAAAoC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC5DpE,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,KAAK;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAClBpE,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,qBAAqB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAElCpE,KAAA,CAAA6D,aAAA,CAACnD,SAAS;QAACgB,YAAY,EAAE,IAAI,CAACA,YAAa;QAACD,YAAY,EAAE,IAAI,CAACH,KAAK,CAACG,YAAa;QAAAsC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAEjF,CAAC,eACNpE,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,WAAW;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC1BpE,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,uBAAuB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACpCpE,KAAA,CAAA6D,aAAA;QAAKC,SAAS,EAAC,6BAA6B;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC1CpE,KAAA,CAAA6D,aAAA;QAAQS,IAAI,EAAC,QAAQ;QAACC,QAAQ,EAAEZ,UAAW;QAACG,SAAS,EAAC,eAAe;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAC,gBAAc,EAACT,UAAU,iBAAI3D,KAAA,CAAA6D,aAAA;QAAGC,SAAS,EAAC,uBAAuB;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAI,CAAU,CAChJ,CACF,CACF,CACF,CACD,CACH,CAAC;IAEV;EAAC;EAAA,OAAAvD,eAAA;AAAA,EAvE2BZ,SAAS;AA0EvCY,eAAe,GAAGV,SAAS,CAAC;EAC1BqE,IAAI,EAAE,qBAAqB;EAC3BC,gBAAgB,EAAE;AACpB,CAAC,CAAC,CAAC5D,eAAe,CAAC;AAEnB,eAAeA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}